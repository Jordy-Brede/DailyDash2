<main class="container" style="margin-top: 24px;">

  <div id="offlineBanner" class="card red lighten-4 hide">
    <div class="card-content">
      <span class="card-title">Offline</span>
      <p>You are currently offline. The app will continue to work using cached data.</p>
    </div>
  </div>

  <div class="row">


    <div class="col s12 m8">
      <div class="section-background">
        <h5>Today's Tasks</h5>
        
        <div id="tasksList" class="row"></div>

        <a class="waves-effect waves-light btn modal-trigger" href="#addTaskModal">
          <i class="material-icons left">add</i>Add Task
        </a>
      </div>
    </div>


    <div class="col s12 m4">

      <div class="section-background" style="margin-bottom: 24px;">
        <h5 id="habits">Habits</h5>
        <ul id="habitList" class="collection"></ul>
      </div>

      <div class="section-background">
        <h6 id="notes">Quick Notes</h6>
        <div id="quickNotes" class="card" style="margin:0; box-shadow:none; border:none;">
          <div class="card-content" style="padding:0;">
            <div class="input-field">
              <textarea id="noteText" class="materialize-textarea"></textarea>
              <label for="noteText">Write a quick note</label>
            </div>
            <a id="saveNoteBtn" class="waves-effect waves-light btn">Save Note</a>
          </div>
        </div>
      </div>

    </div>
  </div>

  <div class="section-background">
    <h5>Featured</h5>
    <div class="row">
      <div class="col s12 m6">
        <div class="card">
          <div class="card-image">
            <img src="https://images.unsplash.com/photo-1506784983877-45594efa4cbe?w=800&q=60" alt="placeholder image">
            <span class="card-title">Focus Mode</span>
          </div>
          <div class="card-content">
            <p>Enable Focus Mode to temporarily mute reminders and reduce cognitive load while finishing a task.</p>
          </div>
          <div class="card-action">
            <a href="#!">Learn more</a>
            <a href="#!" class="modal-trigger" data-target="demoModal">Demo</a>
          </div>
        </div>
      </div>

      <div class="col s12 m6">
        <div class="card small">
          <div class="card-content">
            <span class="card-title">Quick Stats</span>
            <p id="statsText">You completed 0 tasks today.</p>
          </div>
        </div>
      </div>
    </div>
  </div>

</main>

  <div id="addTaskModal" class="modal">
    <div class="modal-content">
      <h4>Add Task</h4>
      <div class="row">
        <form id="taskForm" class="col s12">
          <div class="row">
            <div class="input-field col s12">
              <input id="taskTitle" type="text" required>
              <label for="taskTitle">Task title</label>
            </div>
            <div class="input-field col s12">
              <textarea id="taskNotes" class="materialize-textarea"></textarea>
              <label for="taskNotes">Notes</label>
            </div>
            <div class="input-field col s6">
              <input id="taskDue" type="date">
              <label for="taskDue" class="active">Due date</label>
            </div>
          </div>
          <button class="btn waves-effect waves-light" type="submit">Add</button>
        </form>
      </div>
    </div>
    <div class="modal-footer">
      <a href="#!" class="modal-close waves-effect waves-green btn-flat">Close</a>
    </div>
  </div>

  <div id="demoModal" class="modal">
    <div class="modal-content">
      <h4>Demo</h4>
      <p>This is a functional PWA demo. Try installing (Install button) and then go offline to test caching.</p>
    </div>
    <div class="modal-footer">
      <a href="#!" class="modal-close waves-effect waves-green btn-flat">OK</a>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
  <script src="app.js"></script>

  <script>
  if ('serviceWorker' in navigator) {

    navigator.serviceWorker.register('./sw.js')
      .then(registration => {
        console.log('Service Worker registered with scope:', registration.scope);
      })
      .catch(error => {
        console.error('Service Worker registration failed:', error);
      });
  }
</script>

</body>
</html>
